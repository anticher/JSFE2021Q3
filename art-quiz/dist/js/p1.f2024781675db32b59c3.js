(()=>{"use strict";function t(t,e){const n=document.querySelector("main");n.classList.add("hiding"),setTimeout((()=>{n.innerHTML=t(),e(),n.classList.remove("hiding")}),300)}function e(t){for(let e=t.length-1;e>0;e--){let n=Math.floor(Math.random()*(e+1)),s=t[e];t[e]=t[n],t[n]=s}return t}function n(){let t=Math.ceil(0),e=Math.floor(240);return Math.floor(Math.random()*(e-t))+t}const s={pictureInfo:[],answers:[],questionIndex:void 0,userAnswers:[],categoriesScoreNumber:void 0};function o(){s.pictureInfo=[],s.userAnswers=[],s.questionIndex=void 0,s.categoriesScoreNumber=void 0,s.answers=[]}function i(){return'\n    <div class="choose_author_page">\n    <div class="pop hidden hiding">\n    <div class="pop_picture"></div>\n    <div class="pop_text">\n    <div class="pop_author"></div>\n    <div class="pop_name"></div>\n    <div class="pop_year"></div>\n    <div class="pop_greetings"></div>\n    <div class="pop_score"></div>\n    </div>\n    <button class="pop_button button button_center">Next</button>\n    </div> \n      <div class="top">\n          <div class="back">\n              <button class="back_button"></button>\n          </div>\n          <div class="header font30 font700">\n              Who is the author of this picture?\n          </div>\n          <button class="timer">\n              00:00\n          </button>\n      </div>\n      <div class="middle">\n      \n          <div class="item">\n              \n          </div>\n          <div class="bullets">\n              <div class="bullet"></div>\n              <div class="bullet"></div>\n              <div class="bullet"></div>\n              <div class="bullet"></div>\n              <div class="bullet"></div>\n              <div class="bullet"></div>\n              <div class="bullet"></div>\n              <div class="bullet"></div>\n              <div class="bullet"></div>\n              <div class="bullet"></div>\n          </div>\n      </div>\n      \n      <div class="bottom font24">\n          <button class="bottom_item">1item</button>\n          <button class="bottom_item">2item</button>\n          <button class="bottom_item">3item</button>\n          <button class="bottom_item">4item</button>\n      </div>\n  </div>\n    '}function c(n,o=[]){s.questionIndex=n,t(i,(()=>{const t=document.querySelector(".item");t.style.backgroundImage=`url(assets/images/square/${n}.jpg)`,t.style.backgroundSize="cover",t.style.backgroundPosition="50%",document.querySelector(".back_button").addEventListener("click",(()=>b("author"))),document.querySelectorAll(".bullet").forEach(((t,e)=>{!0===o[e]?t.style.background="green":!1===o[e]?t.style.background="red":t.style.background="grey"}));let i=[...document.querySelectorAll(".bottom_item")];e(i),s.answers=[],i.forEach((t=>{u(n,t)})),console.log(n)}))}function r(t){document.querySelectorAll(".bottom_item").forEach((t=>t.disabled=!0));const e=document.querySelector(".pop");e.classList.remove("hidden"),e.classList.remove("hiding"),"correct"===t?e.classList.add("correct"):e.classList.add("incorrect"),document.querySelector(".pop_author").textContent=s.pictureInfo[0].author,document.querySelector(".pop_name").textContent=s.pictureInfo[0].name,document.querySelector(".pop_year").textContent=s.pictureInfo[0].year,document.querySelector(".pop_picture").style.backgroundImage=`url(assets/images/square/${s.pictureInfo[0].imageNum}.jpg)`;const n=document.querySelector(".pop_button");(s.questionIndex+1)%10==0?(s.categoriesScoreNumber=s.userAnswers.filter((t=>!0===t)).length,localStorage.setItem(s.questionIndex-9,s.userAnswers.join(",")),n.addEventListener("click",(()=>function(t){const e=document.querySelector(".pop");e.innerHTML='\n    <div class="pop_picture"></div>\n        <div class="pop_greetings"></div>\n        <div class="pop_score"></div>\n        </div>\n        <button class="pop_button button button_center">Next</button>\n        ',document.querySelector(".pop_picture").style.backgroundImage="url(assets/images/svg/roundEnd.svg",e.classList.remove("incorrect"),e.classList.remove("correct"),document.querySelector(".pop_greetings").textContent="congratulations!",document.querySelector(".pop_score").textContent=`${t}/10`,document.querySelector(".pop_button").addEventListener("click",(()=>b("author"))),o()}(s.categoriesScoreNumber)))):n.addEventListener("click",(()=>c(s.questionIndex+1,s.userAnswers))),s.pictureInfo=[]}async function u(t,e){const o=await async function(t){const e=await fetch("js/images.json");return(await e.json())[t]}(t);let i=o.author;s.pictureInfo.push(o),s.answers.indexOf(i)>-1?u(n(),e):(s.answers.push(i),e.textContent=i,e.addEventListener("click",(()=>{e.textContent===s.answers[0]?(e.style.background="#88ff00",setTimeout((()=>{s.userAnswers.push(!0),r("correct")}),200)):(setTimeout((()=>{s.userAnswers.push(!1),r("incorrect")}),200),e.style.background="#ff0022")})))}function a(){return'\n    <div class="choose_picture_page">\n    <div class="pop hidden hiding">\n        <div class="pop_picture"></div>\n        <div class="pop_text">\n        <div class="pop_author"></div>\n        <div class="pop_name"></div>\n        <div class="pop_year"></div>\n        <div class="pop_greetings"></div>\n        <div class="pop_score"></div>\n        </div>\n        <button class="pop_button button button_center">Next</button>\n        </div> \n    <div class="top">\n        <div class="back">\n            <button class="back_button"></button>\n        </div>\n        <div class="header font30 font700">\n            What picture was written by <span class="header_author">[name of artist]</span>\n        </div>\n        <button class="timer">\n            00:00\n        </button>\n    </div>\n    <div class="middle">\n    \n        <div class="items">\n            <button class="item">\n            \n            </button>\n            <button class="item">\n                \n            </button>\n            <button class="item">\n                \n            </button>\n            <button class="item">\n                \n            </button>\n        </div>\n        \n        <div class="bullets">\n            <div class="bullet"></div>\n            <div class="bullet"></div>\n            <div class="bullet"></div>\n            <div class="bullet"></div>\n            <div class="bullet"></div>\n            <div class="bullet"></div>\n            <div class="bullet"></div>\n            <div class="bullet"></div>\n            <div class="bullet"></div>\n            <div class="bullet"></div>\n        </div>\n    </div>\n</div>\n    \n    \n    \n    '}function d(n,o=[]){s.questionIndex=n,t(a,(async()=>{const t=document.querySelector(".header_author"),i=await l(n);t.textContent=i.author,s.answers=[];let c=[...document.querySelectorAll(".item")];e(c),c.forEach((t=>{v(n,t)})),document.querySelector(".back_button").addEventListener("click",(()=>b("pictures"))),document.querySelectorAll(".bullet").forEach(((t,e)=>{!0===o[e]?t.style.background="green":!1===o[e]?t.style.background="red":t.style.background="grey"}))}))}async function l(t){const e=await fetch("js/images.json");return(await e.json())[t]}async function v(t,e){const o=await l(t);let i=o.imageNum;s.pictureInfo.push(o),s.answers.indexOf(i)>-1?v(n(),e):(s.answers.push(i),e.style.background=`url(assets/images/square/${i}.jpg)`,e.style.backgroundSize="100%",e.style.backgroundPosition="50% 50%",e.dataset.picture=i,console.log(s.pictureInfo),e.addEventListener("click",(()=>{e.dataset.picture===s.answers[0]?(e.style.outline="5px solid #88ff00",setTimeout((()=>{s.userAnswers.push(!0),m("correct")}),200)):(setTimeout((()=>{s.userAnswers.push(!1),m("incorrect")}),200),e.style.outline="5px solid #ff0022")})))}function m(t){document.querySelectorAll(".bottom_item").forEach((t=>t.disabled=!0));const e=document.querySelector(".pop");e.classList.remove("hidden"),e.classList.remove("hiding"),"correct"===t?e.classList.add("correct"):e.classList.add("incorrect"),document.querySelector(".pop_author").textContent=s.pictureInfo[0].author,document.querySelector(".pop_name").textContent=s.pictureInfo[0].name,document.querySelector(".pop_year").textContent=s.pictureInfo[0].year,document.querySelector(".pop_picture").style.backgroundImage=`url(assets/images/square/${s.pictureInfo[0].imageNum}.jpg)`;const n=document.querySelector(".pop_button");(s.questionIndex+1)%10==0?(s.categoriesScoreNumber=s.userAnswers.filter((t=>!0===t)).length,localStorage.setItem(s.questionIndex-9,s.userAnswers.join(",")),n.addEventListener("click",(()=>function(t){const e=document.querySelector(".pop");e.innerHTML='\n    <div class="pop_picture"></div>\n        <div class="pop_greetings"></div>\n        <div class="pop_score"></div>\n        </div>\n        <button class="pop_button button button_center">Next</button>\n        ',document.querySelector(".pop_picture").style.backgroundImage="url(assets/images/svg/roundEnd.svg",e.classList.remove("incorrect"),e.classList.remove("correct"),document.querySelector(".pop_greetings").textContent="congratulations!",document.querySelector(".pop_score").textContent=`${t}/10`,document.querySelector(".pop_button").addEventListener("click",(()=>b("pictures"))),o()}(s.categoriesScoreNumber)))):n.addEventListener("click",(()=>d(s.questionIndex+1,s.userAnswers))),s.pictureInfo=[]}function b(e){t(p,(()=>function(t){!function(t){const e=document.querySelectorAll(".item");"author"===t?e.forEach(((e,n)=>{g(t,e,n,n>0?10*n:n)})):"pictures"===t&&e.forEach(((e,n)=>{g(t,e,n,12*n>0?10*(n+12):n+120)}))}(t),document.querySelector(".home_button").addEventListener("click",(()=>y()))}(e)))}function p(){return'\n    <div class="categories_page">\n  <div class="top">\n      <div class="header">\n          Categories\n      </div>\n      <div class="buttons_wrapper">\n          <button class="home_button button">\n              \n          </button>\n      </div>\n  </div>\n  <div class="middle">\n      <div class="items_wrapper">\n      <button class="item grey"></button>\n      <button class="item grey"></button>\n      <button class="item grey"></button>\n      <button class="item grey"></button>\n      <button class="item grey"></button>\n      <button class="item grey"></button>\n      <button class="item grey"></button>\n      <button class="item grey"></button>\n      <button class="item grey"></button>\n      <button class="item grey"></button>\n      <button class="item grey"></button>\n      <button class="item grey"></button>\n      </div>\n  </div>\n    '}function g(t,e,n,s){if("author"===t)e.addEventListener("click",(()=>{o(),c(s)}));else{if("pictures"!==t)throw Error("wrong category");e.addEventListener("click",(()=>{o(),d(s)}))}const i=localStorage.getItem(s);let r;i?(r=i.split(",").filter((t=>"true"===t)).length,console.log(r)):r=0,e.innerHTML=`\n        <div class="item_number">${n+1}</div>\n        <button class="item_score">${r}/10</button>\n        `,e.style.backgroundImage=`url(assets/images/square/${s}.jpg)`,10===r&&e.classList.remove("grey")}function _(){return'\n      <div class="settings_page">\n  <div class="top">\n      <div class="header">\n          Settings\n      </div>\n  </div>\n  <div class="middle">\n  \n      <div class="item">\n          <div class="item_top sound">\n  \n          </div>\n          <div class="item_middle">\n              <div class="sound_off"></div>\n              <input type="range" name="volume_range">\n          </div>\n          <div class="item_bottom font30 font700">Volume</div>\n      </div>\n  \n  \n      <div class="item">\n          <div class="item_top time">\n          </div>\n          <div class="item_middle">\n              <input type="checkbox" name="timer_checkbox">\n              <input type="range" name="timer_range">\n          </div>\n  \n          <div class="item_bottom font30 font700">Time game</div>\n      </div>\n  \n  \n  \n  </div>\n  \n  <div class="bottom">\n      <button class="save_button button button_center">\n          Save\n      </button>\n      <button class="defaults_button button button_center">\n          Defaults\n      </button>\n  </div>\n  </div>\n      '}function f(){const t=document.querySelector(".save_button"),e=document.querySelector(".defaults_button");t.addEventListener("click",(()=>{console.log("save!")})),e.addEventListener("click",(()=>{console.log("defaults!")}))}function y(){t(h,q)}function h(){return'\n    <div class="start_page">\n  <div class="top">\n      <div class="logo">\n  \n      </div>\n  </div>\n  <div class="middle">\n      <div class="item">\n          <button class="item_img author">\n          </button>\n          <div class="item_descr font36">\n              <span class="font700">Artists</span> quiz\n          </div>\n      </div>\n      <div class="item">\n          <button class="item_img picture">\n          </button>\n          <div class="item_descr font36">\n              <span class="font700">Pictures</span> quiz\n          </div>\n      </div>\n  </div>\n  <div class="bottom">\n      <button class="settings_button button">\n          Settings\n      </button>\n  </div>\n  </div>\n    '}function q(){document.querySelector(".settings_button").addEventListener("click",(()=>{t(_,f)})),document.querySelector(".item_img.author").addEventListener("click",(()=>b("author"))),document.querySelector(".item_img.picture").addEventListener("click",(()=>b("pictures")))}document.addEventListener("DOMContentLoaded",(function(){y()}))})();