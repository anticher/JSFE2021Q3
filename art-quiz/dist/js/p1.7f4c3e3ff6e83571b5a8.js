(()=>{"use strict";function t(e,n){!function(e,n){h((()=>function(t){return"author"===t||"pictures"===t?'\n    <div class="categories_page">\n  <div class="top">\n      <div class="header">\n          Categories\n      </div>\n      <div class="buttons_wrapper">\n          <button class="home_button button">\n              \n          </button>\n      </div>\n  </div>\n  <div class="middle">\n      <div class="items_wrapper">\n      <button class="item grey"></button>\n      <button class="item grey"></button>\n      <button class="item grey"></button>\n      <button class="item grey"></button>\n      <button class="item grey"></button>\n      <button class="item grey"></button>\n      <button class="item grey"></button>\n      <button class="item grey"></button>\n      <button class="item grey"></button>\n      <button class="item grey"></button>\n      <button class="item grey"></button>\n      <button class="item grey"></button>\n      </div>\n  </div>\n    ':"authorScore"===t||"picturesScore"===t?'\n    <div class="categories_page">\n  <div class="top">\n      <div class="header">\n          Scores\n      </div>\n      <div class="buttons_wrapper">\n        <div class="back">\n              <button class="back_button"></button>\n        </div>\n          <button class="home_button button">\n              \n          </button>\n      </div>\n  </div>\n  <div class="middle">\n      <div class="items_wrapper">\n      <button class="item grey"></button>\n      <button class="item grey"></button>\n      <button class="item grey"></button>\n      <button class="item grey"></button>\n      <button class="item grey"></button>\n      <button class="item grey"></button>\n      <button class="item grey"></button>\n      <button class="item grey"></button>\n      <button class="item grey"></button>\n      <button class="item grey"></button>\n      </div>\n  </div>\n    ':void 0}(e)),(()=>function(e,n){if(function(t,e){const n=document.querySelectorAll(".item");"author"===t?n.forEach(((e,n)=>{a(t,e,n,n>0?10*n:n)})):"pictures"===t?n.forEach(((e,n)=>{a(t,e,n,12*n>0?10*(n+12):n+120)})):"authorScore"===t?n.forEach(((t,n)=>{d(t,n,10*e+n)})):"picturesScore"===t&&n.forEach(((t,n)=>{d(t,n,10*e+120+n)}))}(e,n),document.querySelector(".home_button").addEventListener("click",(()=>{S()})),document.querySelector(".back_button")){const n=document.querySelector(".back_button"),s="authorScore"===e?"author":"pictures";n.addEventListener("click",(()=>t(s)))}}(e,n)))}(e,n)}function e(e,n=[]){!function(e,n=[]){h(m,(()=>async function(e,n=[]){r.questionIndex=e;const s=document.querySelector(".item");s.style.backgroundImage=`url(assets/images/square/${e}.jpg)`,s.style.backgroundSize="cover",s.style.backgroundPosition="50%",document.querySelector(".back_button").addEventListener("click",(()=>t("author"))),document.querySelectorAll(".bullet").forEach(((t,e)=>{const s=t;!0===n[e]?s.style.background="green":!1===n[e]?s.style.background="red":s.style.background="grey"}));const o=[...document.querySelectorAll(".bottom_item")];l(o),r.answers=[],o.forEach((t=>{b(e,t)})),console.log(e)}(e,[])))}(e,[])}function n(e,n=[]){!function(e,n=[]){h(g,(()=>async function(e,n=[]){r.questionIndex=e;const s=document.querySelector(".header_author"),o=await y(e);s.textContent=o.author,r.answers=[];let i=[...document.querySelectorAll(".item")];l(i),i.forEach((t=>{_(e,t)})),document.querySelector(".back_button").addEventListener("click",(()=>t("pictures"))),document.querySelectorAll(".bullet").forEach(((t,e)=>{!0===n[e]?t.style.background="green":!1===n[e]?t.style.background="red":t.style.background="grey"}))}(e,[])))}(e,[])}function s(){return'\n    <div class="start_page">\n  <div class="top">\n      <div class="logo">\n  \n      </div>\n  </div>\n  <div class="middle">\n      <div class="item">\n          <button class="item_img author">\n          </button>\n          <div class="item_descr font36">\n              <span class="font700">Artists</span> quiz\n          </div>\n      </div>\n      <div class="item">\n          <button class="item_img picture">\n          </button>\n          <div class="item_descr font36">\n              <span class="font700">Pictures</span> quiz\n          </div>\n      </div>\n  </div>\n  <div class="bottom">\n      <button class="settings_button button">\n          Settings\n      </button>\n  </div>\n  </div>\n    '}function o(){document.querySelector(".settings_button").addEventListener("click",(()=>{h(i,c)})),document.querySelector(".item_img.author").addEventListener("click",(()=>t("author"))),document.querySelector(".item_img.picture").addEventListener("click",(()=>t("pictures")))}function i(){return'\n      <div class="settings_page">\n  <div class="top">\n      <div class="header">\n          Settings\n      </div>\n  </div>\n  <div class="middle">\n  \n      <div class="item">\n          <div class="item_top sound">\n  \n          </div>\n          <div class="item_middle">\n              <div class="sound_off"></div>\n              <input type="range" name="volume_range">\n          </div>\n          <div class="item_bottom font30 font700">Volume</div>\n      </div>\n  \n  \n      <div class="item">\n          <div class="item_top time">\n          </div>\n          <div class="item_middle">\n              <input type="checkbox" name="timer_checkbox">\n              <input type="range" name="timer_range">\n          </div>\n  \n          <div class="item_bottom font30 font700">Time game</div>\n      </div>\n  \n  \n  \n  </div>\n  \n  <div class="bottom">\n      <button class="save_button button button_center">\n          Save\n      </button>\n      <button class="defaults_button button button_center">\n          Defaults\n      </button>\n  </div>\n  </div>\n      '}function c(){const t=document.querySelector(".save_button"),e=document.querySelector(".defaults_button");t.addEventListener("click",(()=>{console.log("save!")})),e.addEventListener("click",(()=>{console.log("defaults!")}))}const r={pictureInfo:[],answers:[],questionIndex:void 0,userAnswers:[],categoriesScoreNumber:void 0};function u(){r.pictureInfo=[],r.userAnswers=[],r.questionIndex=void 0,r.categoriesScoreNumber=void 0,r.answers=[]}async function a(s,o,i,c){if("author"===s)o.addEventListener("click",(()=>{u(),e(c)}));else{if("pictures"!==s)throw Error("wrong category");o.addEventListener("click",(()=>{u(),n(c)}))}const r=localStorage.getItem(c);let a;r?(o.classList.remove("grey"),a=r.split(",").filter((t=>"true"===t)).length,o.innerHTML=`\n        <div class="item_number">${i+1}</div>\n        <button class="item_score">${a}/10</button>\n        `,o.querySelector(".item_score").addEventListener("click",(e=>{e.stopPropagation(),"author"===s?t("authorScore",i):"pictures"===s&&t("picturesScore",i)}))):o.innerHTML=`\n        <div class="item_number">${i+1}</div>\n        `,o.style.backgroundImage=`url(assets/images/square/${c}.jpg)`}async function d(t,e,n){const s=localStorage.getItem(n-e);s&&"true"===s.split(",")[e]&&t.classList.remove("grey");const o=document.createElement("div");o.classList.add("item_number"),o.textContent=e+1,t.append(o),async function(t,e){const n=document.createElement("div");n.classList.add("item_pop");const s=await async function(t){const e=await fetch("js/images.json");return(await e.json())[t]}(e),o=document.createElement("div");o.classList.add("item_author"),o.textContent=s.author;const i=document.createElement("div");i.classList.add("item_name"),i.textContent=s.name;const c=document.createElement("div");c.classList.add("item_year"),c.textContent=s.year,n.append(o),n.append(i),n.append(c),t.append(n),t.addEventListener("click",(()=>{n.classList.toggle("visible")}))}(t,n),t.style.backgroundImage=`url(assets/images/square/${n}.jpg)`}function l(t){for(let e=t.length-1;e>0;e--){let n=Math.floor(Math.random()*(e+1)),s=t[e];t[e]=t[n],t[n]=s}return t}function v(){let t=Math.ceil(0),e=Math.floor(240);return Math.floor(Math.random()*(e-t))+t}function m(){return'\n    <div class="choose_author_page">\n    <div class="pop hidden hiding">\n    <div class="pop_picture"></div>\n    <div class="pop_text">\n    <div class="pop_author"></div>\n    <div class="pop_name"></div>\n    <div class="pop_year"></div>\n    <div class="pop_greetings"></div>\n    <div class="pop_score"></div>\n    </div>\n    <button class="pop_button button button_center">Next</button>\n    </div> \n      <div class="top">\n          <div class="back">\n              <button class="back_button"></button>\n          </div>\n          <div class="header font30 font700">\n              Who is the author of this picture?\n          </div>\n          <button class="timer">\n              00:00\n          </button>\n      </div>\n      <div class="middle">\n      \n          <div class="item">\n              \n          </div>\n          <div class="bullets">\n              <div class="bullet"></div>\n              <div class="bullet"></div>\n              <div class="bullet"></div>\n              <div class="bullet"></div>\n              <div class="bullet"></div>\n              <div class="bullet"></div>\n              <div class="bullet"></div>\n              <div class="bullet"></div>\n              <div class="bullet"></div>\n              <div class="bullet"></div>\n          </div>\n      </div>\n      \n      <div class="bottom font24">\n          <button class="bottom_item">1item</button>\n          <button class="bottom_item">2item</button>\n          <button class="bottom_item">3item</button>\n          <button class="bottom_item">4item</button>\n      </div>\n  </div>\n    '}async function b(t,e){const n=e,s=await async function(t){const e=await fetch("js/images.json");return(await e.json())[t]}(t),o=s.author;r.pictureInfo.push(s),r.answers.indexOf(o)>-1?b(v(),e):(r.answers.push(o),n.textContent=o,n.addEventListener("click",(()=>{e.textContent===r.answers[0]?(n.style.background="#88ff00",setTimeout((()=>{r.userAnswers.push(!0),p("correct")}),200)):(setTimeout((()=>{r.userAnswers.push(!1),p("incorrect")}),200),n.style.background="#ff0022")})))}function p(n){document.querySelectorAll(".bottom_item").forEach((t=>{t.disabled=!0}));const s=document.querySelector(".pop");s.classList.remove("hidden"),s.classList.remove("hiding"),"correct"===n?s.classList.add("correct"):s.classList.add("incorrect"),document.querySelector(".pop_author").textContent=r.pictureInfo[0].author,document.querySelector(".pop_name").textContent=r.pictureInfo[0].name,document.querySelector(".pop_year").textContent=r.pictureInfo[0].year,document.querySelector(".pop_picture").style.backgroundImage=`url(assets/images/square/${r.pictureInfo[0].imageNum}.jpg)`;const o=document.querySelector(".pop_button");(r.questionIndex+1)%10==0?(r.categoriesScoreNumber=r.userAnswers.filter((t=>!0===t)).length,localStorage.setItem(r.questionIndex-9,r.userAnswers.join(",")),o.addEventListener("click",(()=>function(e){const n=document.querySelector(".pop");n.innerHTML='\n    <div class="pop_picture"></div>\n        <div class="pop_greetings"></div>\n        <div class="pop_score"></div>\n        </div>\n        <button class="pop_button button button_center">Next</button>\n        ',document.querySelector(".pop_picture").style.backgroundImage="url(assets/images/svg/roundEnd.svg",n.classList.remove("incorrect"),n.classList.remove("correct"),document.querySelector(".pop_greetings").textContent="congratulations!",document.querySelector(".pop_score").textContent=`${e}/10`,document.querySelector(".pop_button").addEventListener("click",(()=>t("author"))),u()}(r.categoriesScoreNumber)))):o.addEventListener("click",(()=>e(r.questionIndex+1,r.userAnswers))),r.pictureInfo=[]}function g(){return'\n    <div class="choose_picture_page">\n    <div class="pop hidden hiding">\n        <div class="pop_picture"></div>\n        <div class="pop_text">\n        <div class="pop_author"></div>\n        <div class="pop_name"></div>\n        <div class="pop_year"></div>\n        <div class="pop_greetings"></div>\n        <div class="pop_score"></div>\n        </div>\n        <button class="pop_button button button_center">Next</button>\n        </div> \n    <div class="top">\n        <div class="back">\n            <button class="back_button"></button>\n        </div>\n        <div class="header font30 font700">\n            What picture was written by <span class="header_author">[name of artist]</span>\n        </div>\n        <button class="timer">\n            00:00\n        </button>\n    </div>\n    <div class="middle">\n\n        <div class="items">\n            <button class="item">\n\n            </button>\n            <button class="item">\n\n            </button>\n            <button class="item">\n\n            </button>\n            <button class="item">\n\n            </button>\n        </div>\n\n        <div class="bullets">\n            <div class="bullet"></div>\n            <div class="bullet"></div>\n            <div class="bullet"></div>\n            <div class="bullet"></div>\n            <div class="bullet"></div>\n            <div class="bullet"></div>\n            <div class="bullet"></div>\n            <div class="bullet"></div>\n            <div class="bullet"></div>\n            <div class="bullet"></div>\n        </div>\n    </div>\n</div>\n\n\n\n    '}async function y(t){const e=await fetch("js/images.json");return(await e.json())[t]}async function _(t,e){const n=await y(t);let s=n.imageNum,o=n.author;r.pictureInfo.push(n),r.answers.indexOf(o)>-1?_(v(),e):(r.answers.push(o),e.style.background=`url(assets/images/square/${s}.jpg)`,e.style.backgroundSize="100%",e.style.backgroundPosition="50% 50%",e.dataset.author=o,console.log(r.pictureInfo),e.addEventListener("click",(()=>{e.dataset.author===r.answers[0]?(e.style.outline="5px solid #88ff00",setTimeout((()=>{r.userAnswers.push(!0),f("correct")}),200)):(setTimeout((()=>{r.userAnswers.push(!1),f("incorrect")}),200),e.style.outline="5px solid #ff0022")})))}function f(e){document.querySelectorAll(".bottom_item").forEach((t=>t.disabled=!0));const s=document.querySelector(".pop");s.classList.remove("hidden"),s.classList.remove("hiding"),"correct"===e?s.classList.add("correct"):s.classList.add("incorrect"),document.querySelector(".pop_author").textContent=r.pictureInfo[0].author,document.querySelector(".pop_name").textContent=r.pictureInfo[0].name,document.querySelector(".pop_year").textContent=r.pictureInfo[0].year,document.querySelector(".pop_picture").style.backgroundImage=`url(assets/images/square/${r.pictureInfo[0].imageNum}.jpg)`;const o=document.querySelector(".pop_button");(r.questionIndex+1)%10==0?(r.categoriesScoreNumber=r.userAnswers.filter((t=>!0===t)).length,localStorage.setItem(r.questionIndex-9,r.userAnswers.join(",")),o.addEventListener("click",(()=>function(e){const n=document.querySelector(".pop");n.innerHTML='\n    <div class="pop_picture"></div>\n        <div class="pop_greetings"></div>\n        <div class="pop_score"></div>\n        </div>\n        <button class="pop_button button button_center">Next</button>\n        ',document.querySelector(".pop_picture").style.backgroundImage="url(assets/images/svg/roundEnd.svg",n.classList.remove("incorrect"),n.classList.remove("correct"),document.querySelector(".pop_greetings").textContent="congratulations!",document.querySelector(".pop_score").textContent=`${e}/10`,document.querySelector(".pop_button").addEventListener("click",(()=>t("pictures"))),u()}(r.categoriesScoreNumber)))):o.addEventListener("click",(()=>n(r.questionIndex+1,r.userAnswers))),r.pictureInfo=[]}function h(t,e){const n=document.querySelector("main");n.classList.add("hiding"),setTimeout((()=>{n.innerHTML=t(),e(),n.classList.remove("hiding")}),300)}function S(t){h(s,o)}document.addEventListener("DOMContentLoaded",(()=>S()))})();