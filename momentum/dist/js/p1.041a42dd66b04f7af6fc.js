(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{d:()=>V});const t={english:{"Good Day":"Good day","Good Evening":"Good evening","Good Night":"Good night","Good Morning":"Good morning",PlaceHolder:"[Enter name]"},russian:{"Good Day":"Добрый день","Good Evening":"Добрый вечер","Good Night":"Доброй ночи","Good Morning":"Добоей утро",PlaceHolder:"[Введите имя]"}},n=document.querySelector(".date"),o=document.querySelector(".time"),a=document.querySelector(".greeting"),r=document.querySelector(".name");let s,c=new Date;function i(){const e=(new Date).toLocaleTimeString();o.textContent=e,setTimeout(i,1e3)}function u(){const e=c.getHours();return e<=5?"Night":e<=11?"Morning":e<=17?"Day":e<=23?"Evening":void 0}i();const l=document.querySelector("body");function d(){s||(s=Math.floor(20*Math.random())+1);const e=s.toString().padStart(2,"0"),t=u().toLowerCase(),n=new Image;n.src=`https://raw.githubusercontent.com/rolling-scopes-school/stage1-tasks/assets/images/${t}/${e}.jpg`,n.onload=()=>{l.style.backgroundImage=`url(${n.src})`}}l.style.backgroundImage="url('https://raw.githubusercontent.com/rolling-scopes-school/stage1-tasks/assets/images/evening/18.jpg')";const m=document.querySelector(".slide-prev");document.querySelector(".slide-next").addEventListener("click",(function(){s<20?s++:s=1,d()})),m.addEventListener("click",(function(){s>1?s--:s=20,d()}));const g=document.querySelector(".quote"),p=document.querySelector(".author");async function y(){const e=`../assets/data/${V}QuotesData.json`,t=await fetch(e),n=await t.json(),o=(a=n.length,Math.floor(Math.random()*a));var a;g.textContent=n[o].text,p.textContent=n[o].author}document.querySelector(".change-quote").addEventListener("click",y);const v=document.querySelector(".weather-icon"),h=document.querySelector(".temperature"),S=document.querySelector(".wind"),L=document.querySelector(".humidity"),f=document.querySelector(".weather-description"),w=document.querySelector(".city"),q=document.querySelector(".weather-error");async function E(){const e=`https://api.openweathermap.org/data/2.5/weather?q=${w.value}&lang=en&appid=abe902bf94114fcd5fea4eb6170592ab&units=metric`,t=await fetch(e),n=await t.json();n.cod>=400?(q.textContent="Wrong city name",v.className="",S.textContent="",L.textContent="",h.textContent="",f.textContent=""):(q.textContent="",v.className="weather-icon owf",v.classList.add(`owf-${n.weather[0].id}`),h.textContent=`${Math.ceil(n.main.temp)}°C`,f.textContent=n.weather[0].description,S.textContent=`Wind speed: ${Math.ceil(n.wind.speed)} m/s`,L.textContent=`Humidity: ${n.main.humidity}%`)}w.value||(w.value="Minsk"),w.addEventListener("change",E);const C=[{author:"Sensorica",title:"Aqua Caelestis",src:"../assets/sounds/Aqua Caelestis.mp3",duration:"00:40"},{author:"Yiruma",title:"River Flows In You",src:"../assets/sounds/River Flows In You.mp3",duration:"01:37"},{author:"Summer Wind",title:"Summer Wind",src:"../assets/sounds/Summer Wind.mp3",duration:"01:51"},{author:"Ennio Morricone",title:"Ennio Morricone",src:"../assets/sounds/Ennio Morricone.mp3",duration:"01:37"}],b=document.querySelector(".play-current"),x=document.querySelector(".play-next"),k=document.querySelector(".play-prev"),M=document.querySelector(".play-list"),$=new Audio,G=document.querySelector(".progress-bar-track-name");let I,T=!1,D=0;function N(){$.src=C[D].src,$.currentTime=0,G.textContent=`${D+1}. ${C[D].author} - ${C[D].title}`}function j(){$.currentTime||N(),$.play(),R(),b.classList.add("pause"),I.classList.add("pause"),T=!0}function H(){$.pause(),b.classList.remove("pause"),I.classList.remove("pause"),T=!1}function P(){$.pause(),$.currentTime=0,b.classList.remove("pause"),I.classList.remove("pause"),T=!1}function W(){T?H():j()}function A(){P(),D<C.length-1?D++:D=0,R(),j()}function O(){this.dataset.trackNumber==D?W():(P(),D=+this.dataset.trackNumber,R(),j())}function R(){const e=M.querySelectorAll("li");e.forEach((e=>{e.classList.remove("item-active"),e.lastChild.classList.remove("pause"),e.lastChild.classList.remove("play-little")})),e[D].classList.add("item-active"),e[D].lastChild.classList.add("play-little"),I=document.querySelector(".play-little"),I.classList.add("pause")}b.addEventListener("click",W),x.addEventListener("click",A),k.addEventListener("click",(function(){P(),D>0?D--:D=C.length-1,R(),j()})),$.addEventListener("ended",A);const Y=document.querySelector(".progress-bar"),F=document.querySelector(".progress-current"),Q=document.querySelector(".progress-total");function z(e,t=0){e.style.background=`linear-gradient(to right, rgba(255, 255, 255, 0.8) 0%, rgba(255, 255, 255, 0.8) ${t}%, transparent ${t}%, transparent 100%)`}function B(e){e=Math.round(e);let t=Math.floor(e/60)||0,n=e-60*t||0;return t+":"+(n<10?"0":"")+n}Y.value=0,z(Y),$.ontimeupdate=()=>{F.textContent=B($.currentTime),Q.textContent=B($.duration),$.duration===$.currentTime&&H(),0===$.currentTime?z(Y):(Y.value=100/$.duration*$.currentTime,z(Y,Y.value))},Y.addEventListener("input",(function(){const e=this.value;$.currentTime=e/(100/$.duration),z(Y)}));const J=document.querySelector(".mute-btn"),K=document.querySelector(".volume-bar");let U=0;J.addEventListener("click",(function(){J.classList.contains("muted")?(J.classList.remove("muted"),K.value=U,z(K,U),$.volume=U/100):(J.classList.add("muted"),U=K.value,K.value=0,z(K),$.volume=0)})),$.volume=K.value/100,z(K,K.value),K.addEventListener("input",(function(){const e=this.value;z(K,e),$.volume=e/100,U=e,e>0?J.classList.remove("muted"):J.classList.add("muted")}));let V="russian";C.forEach(((e,t)=>{const n=document.createElement("li");n.classList.add("play-item"),n.textContent=C[t].title;const o=document.createElement("button");o.classList.add("play"),o.classList.add("player-icon"),o.dataset.trackNumber=t,0===t&&o.classList.add("play-little"),o.addEventListener("click",O),n.append(o),M.append(n)})),N(),I=document.querySelector(".play-little"),window.addEventListener("load",(function(){localStorage.getItem("name")?r.value=localStorage.getItem("name"):r.value="",localStorage.getItem("city")&&(w.value=localStorage.getItem("city"))})),window.addEventListener("beforeunload",(function(){localStorage.setItem("name",r.value),localStorage.setItem("city",w.value)})),window.addEventListener("load",(function(){i(),function(e){const n=`Good ${u()}`;a.textContent=t[e][n],r.placeholder=t[e].PlaceHolder}(V),function(e){const t={weekday:"long",month:"long",day:"numeric"};if("english"===e){const e=c.toLocaleDateString("en-En",t);n.textContent=e}else if("russian"===e){const e=c.toLocaleDateString("ru-Ru",t);n.textContent=e}}(V)})),window.addEventListener("load",d),window.addEventListener("load",y()),window.addEventListener("load",E())})();