(()=>{"use strict";const e=document.querySelector(".date"),t=document.querySelector(".time"),n=document.querySelector(".greeting"),o=document.querySelector(".name");let a,c=new Date;function r(){const e=c.getHours();return e<=5?"Night":e<=11?"Morning":e<=17?"Day":e<=23?"Evening":void 0}const s=document.querySelector("body");function i(){a||(a=Math.floor(20*Math.random())+1);const e=a.toString().padStart(2,"0"),t=r().toLowerCase(),n=new Image;n.src=`https://raw.githubusercontent.com/rolling-scopes-school/stage1-tasks/assets/images/${t}/${e}.jpg`,n.onload=()=>{s.style.backgroundImage=`url(${n.src})`}}s.style.backgroundImage="url('https://raw.githubusercontent.com/rolling-scopes-school/stage1-tasks/assets/images/evening/18.jpg')";const d=document.querySelector(".slide-prev"),u=document.querySelector(".slide-next"),l=document.querySelector(".quote"),m=document.querySelector(".author"),g=document.querySelector(".change-quote");async function w(){const e=await fetch("../assets/data/quotesData.json"),t=await e.json(),n=(o=t.length,Math.floor(Math.random()*o));var o;l.textContent=t[n].text,m.textContent=t[n].author}const h=document.querySelector(".weather-icon"),y=document.querySelector(".temperature"),v=document.querySelector(".weather-description"),S=document.querySelector(".city");async function f(){S.value||(S.value="Minsk");const e=`https://api.openweathermap.org/data/2.5/weather?q=${S.value}&lang=ru&appid=abe902bf94114fcd5fea4eb6170592ab&units=metric`,t=await fetch(e),n=await t.json();h.className="weather-icon owf",h.classList.add(`owf-${n.weather[0].id}`),y.textContent=`${n.main.temp}Â°C`,v.textContent=n.weather[0].description}S.addEventListener("change",f),u.addEventListener("click",(function(){a<20?a++:a=1,i()})),d.addEventListener("click",(function(){a>1?a--:a=20,i()})),g.addEventListener("click",w),window.addEventListener("load",(function(){localStorage.getItem("name")?o.value=localStorage.getItem("name"):o.value=""})),window.addEventListener("beforeunload",(function(){localStorage.setItem("name",o.value)})),window.addEventListener("load",f),window.addEventListener("load",(function o(){const a=(new Date).toLocaleTimeString(),s=`Good ${r()}`;t.textContent=a,n.textContent=s,function(){const t=c.toLocaleDateString("en-En",{weekday:"long",month:"long",day:"numeric"});e.textContent=t}(),setTimeout(o,1e3)})),window.addEventListener("load",i),window.addEventListener("load",w)})();