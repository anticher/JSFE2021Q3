(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{d:()=>_});const t={english:{"Good Afternoon":"Good afternoon","Good Evening":"Good evening","Good Night":"Good night","Good Morning":"Good morning",PlaceHolder:"[Enter name]"},russian:{"Good Afternoon":"Добрый день","Good Evening":"Добрый вечер","Good Night":"Доброй ночи","Good Morning":"Доброе утро",PlaceHolder:"[Введите имя]"}},n=document.querySelector(".date"),o=document.querySelector(".time"),a=document.querySelector(".greeting"),r=document.querySelector(".name");let s,c=new Date;function i(){const e=(new Date).toLocaleTimeString();o.textContent=e,setTimeout(i,1e3)}function u(){const e=c.getHours();return e<=5?"Night":e<=11?"Morning":e<=17?"Afternoon":e<=23?"Evening":void 0}i();const l=document.querySelector("body");l.style.backgroundImage="url('https://raw.githubusercontent.com/anticher/stage1-tasks/assets/images/evening/18.jpg')";async function d(){console.log("gitHub");const e=u().toLowerCase(),t=new Image;var n;s||(n=20,s=Math.floor(Math.random()*n)+1);{const n=s.toString().padStart(2,"0");t.src=`https://raw.githubusercontent.com/anticher/stage1-tasks/assets/images/${e}/${n}.jpg`}t.onload=()=>{l.style.backgroundImage=`url(${t.src})`}}const m=document.querySelector(".slide-prev"),g=document.querySelector(".slide-next");function v(){g.disabled=!0,m.disabled=!0}function p(){setTimeout((function(){g.disabled=!1,m.disabled=!1}),1500)}g.addEventListener("click",(function(){s<20?s++:s=1,v(),d(),p()})),m.addEventListener("click",(function(){s>1?s--:s=20,v(),d(),p()}));const y=document.querySelector(".quote"),h=document.querySelector(".author");async function f(){const e=`../assets/data/${_}QuotesData.json`,t=await fetch(e),n=await t.json(),o=(a=n.length,Math.floor(Math.random()*a));var a;y.textContent=n[o].text,h.textContent=n[o].author}document.querySelector(".change-quote").addEventListener("click",f);const S=document.querySelector(".weather-icon"),L=document.querySelector(".temperature"),w=document.querySelector(".wind"),q=document.querySelector(".humidity"),E=document.querySelector(".weather-description"),b=document.querySelector(".city"),C=document.querySelector(".weather-error");async function x(){const e=`https://api.openweathermap.org/data/2.5/weather?q=${b.value}&lang=ru&appid=abe902bf94114fcd5fea4eb6170592ab&units=metric`,t=await fetch(e),n=await t.json();n.cod>=400?(C.textContent="Название города введено некорректно",S.className="",w.textContent="",q.textContent="",L.textContent="",E.textContent=""):(C.textContent="",S.className="weather-icon owf",S.classList.add(`owf-${n.weather[0].id}`),L.textContent=`${Math.ceil(n.main.temp)}°C`,E.textContent=n.weather[0].description,w.textContent=`Скорость ветра: ${Math.ceil(n.wind.speed)} м/с`,q.textContent=`Влажность: ${n.main.humidity}%`)}b.value||(b.value="Minsk"),b.addEventListener("change",x);const k=[{author:"Sensorica",title:"Aqua Caelestis",src:"../assets/sounds/Aqua Caelestis.mp3",duration:"00:40"},{author:"Yiruma",title:"River Flows In You",src:"../assets/sounds/River Flows In You.mp3",duration:"01:37"},{author:"Summer Wind",title:"Summer Wind",src:"../assets/sounds/Summer Wind.mp3",duration:"01:51"},{author:"Ennio Morricone",title:"Ennio Morricone",src:"../assets/sounds/Ennio Morricone.mp3",duration:"01:37"}],M=document.querySelector(".play-current"),$=document.querySelector(".play-next"),G=document.querySelector(".play-prev"),I=document.querySelector(".play-list"),T=new Audio,N=document.querySelector(".progress-bar-track-name");let j,A=!1,D=0;function H(){T.src=k[D].src,T.currentTime=0,N.textContent=`${D+1}. ${k[D].author} - ${k[D].title}`}function P(){T.currentTime||H(),T.play(),Q(),M.classList.add("pause"),j.classList.add("pause"),A=!0}function O(){T.pause(),M.classList.remove("pause"),j.classList.remove("pause"),A=!1}function R(){T.pause(),T.currentTime=0,M.classList.remove("pause"),j.classList.remove("pause"),A=!1}function W(){A?O():P()}function Y(){R(),D<k.length-1?D++:D=0,Q(),P()}function F(){this.dataset.trackNumber==D?W():(R(),D=+this.dataset.trackNumber,Q(),P())}function Q(){const e=I.querySelectorAll("li");e.forEach((e=>{e.classList.remove("item-active"),e.lastChild.classList.remove("pause"),e.lastChild.classList.remove("play-little")})),e[D].classList.add("item-active"),e[D].lastChild.classList.add("play-little"),j=document.querySelector(".play-little"),j.classList.add("pause")}M.addEventListener("click",W),$.addEventListener("click",Y),G.addEventListener("click",(function(){R(),D>0?D--:D=k.length-1,Q(),P()})),T.addEventListener("ended",Y);const z=document.querySelector(".progress-bar"),B=document.querySelector(".progress-current"),J=document.querySelector(".progress-total");function K(e,t=0){e.style.background=`linear-gradient(to right, rgba(255, 255, 255, 0.8) 0%, rgba(255, 255, 255, 0.8) ${t}%, transparent ${t}%, transparent 100%)`}function U(e){e=Math.round(e);let t=Math.floor(e/60)||0,n=e-60*t||0;return t+":"+(n<10?"0":"")+n}z.value=0,K(z),T.ontimeupdate=()=>{B.textContent=U(T.currentTime),J.textContent=U(T.duration),T.duration===T.currentTime&&O(),0===T.currentTime?K(z):(z.value=100/T.duration*T.currentTime,K(z,z.value))},z.addEventListener("input",(function(){const e=this.value;T.currentTime=e/(100/T.duration),K(z)}));const V=document.querySelector(".mute-btn"),X=document.querySelector(".volume-bar");let Z=0;V.addEventListener("click",(function(){V.classList.contains("muted")?(V.classList.remove("muted"),X.value=Z,K(X,Z),T.volume=Z/100):(V.classList.add("muted"),Z=X.value,X.value=0,K(X),T.volume=0)})),T.volume=X.value/100,K(X,X.value),X.addEventListener("input",(function(){const e=this.value;K(X,e),T.volume=e/100,Z=e,e>0?V.classList.remove("muted"):V.classList.add("muted")}));let _="english";k.forEach(((e,t)=>{const n=document.createElement("li");n.classList.add("play-item"),n.textContent=k[t].title;const o=document.createElement("button");o.classList.add("play"),o.classList.add("player-icon"),o.dataset.trackNumber=t,0===t&&o.classList.add("play-little"),o.addEventListener("click",F),n.append(o),I.append(n)})),H(),j=document.querySelector(".play-little"),window.addEventListener("load",(function(){localStorage.getItem("name")?r.value=localStorage.getItem("name"):r.value="",localStorage.getItem("city")&&(b.value=localStorage.getItem("city"))})),window.addEventListener("beforeunload",(function(){localStorage.setItem("name",r.value),localStorage.setItem("city",b.value)})),window.addEventListener("load",(function(){i(),function(e){const n=`Good ${u()}`;a.textContent=t[e][n],r.placeholder=t[e].PlaceHolder}(_),function(e){const t={weekday:"long",month:"long",day:"numeric"};if("english"===e){const e=c.toLocaleDateString("en-En",t);n.textContent=e}else if("russian"===e){const e=c.toLocaleDateString("ru-Ru",t);n.textContent=e}}(_)})),window.addEventListener("load",d),window.addEventListener("load",f()),window.addEventListener("load",x())})();